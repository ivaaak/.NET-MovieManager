@model ShowCardViewModel
@using MovieManager.Services
@using MovieManager.Models
@using System.Linq
@{
	ViewData["Title"] = "Show Review";
	var showObj = Model.Show;
	string posterMovieUrl = "https://image.tmdb.org/t/p/w500"+showObj.PosterPath;	
}
@section scripts{
	<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
}
<head>
	<link href="~/css/style.css" asp-append-version="true" rel="stylesheet">
	<link href="~/css/styleReview.css" asp-append-version="true" rel="stylesheet">
</head>



<div class="MovieCard">
	<div class="flex-container">
	   <div class="flex-items">	
		   <a href="/Movie/MovieCard/@showObj.Id">
				<img class="moviePoster" alt="Image" src="@posterMovieUrl"> 	
		   </a>
		</div>
		<!--Show Data-->
		@if (User.Identity.IsAuthenticated)
		{
			<div class="flex-items">
			<h2 class="movieTitle">	Write a review of: @showObj.Name </h2>
			<p class="movieRating"> <img class="IMDBStar" src="~/img/star.png"> @showObj.VoteAverage/10 - Rating <p class="movieDesc"> @showObj.FirstAirDate </p></p>
		
			<textarea name="Text1" cols="60" rows="15"></textarea>

			<div class="buttonsList">
				<input class="TrailerButton" id="TrailerButton" type="button" value="★ Rate ★" onclick=""><br/>
				<input class="TrailerButton" id="TrailerButton" type="button" value="Post Review" onclick=""><br/>
			</div>
			</div>
		}
		else
		{
			<div class="flex-items">
			<h2 class="movieTitle">	@showObj.Name </h2>
			<p class="movieRating"> <img class="IMDBStar" src="~/img/star.png"> @showObj.VoteAverage/10 - Rating <p class="movieDesc"> @showObj.FirstAirDate </p>
			<p class="movieDesc"> @showObj.Overview </p>
			</div>
		}
	</div>
</div>


<div class="ReviewsContainer">
	@foreach(var review in Model.Reviews){
		<h2 class="ReviewAuthor">Author: @review.Author</h2>
		<p class="ReviewContent">Review: @review.Content</p>
	}

</div>